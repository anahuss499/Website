<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="theme-color" content="#32cd32">
  <title>Notification Preview â€” Mahmood Masjid</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Orbitron:wght@400;700&family=Noto+Naskh+Arabic:wght@400;700&family=Jameel+Noori+Nastaleeq&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/style.css">
  <style>
    .preview-container {
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
    }
    .preview-section {
      margin: 30px 0;
      padding: 20px;
      background: rgba(50, 205, 50, 0.1);
      border-radius: 8px;
      border: 1px solid rgba(50, 205, 50, 0.3);
    }
    .preview-section h2 {
      margin-top: 0;
      color: #32cd32;
    }
    .btn-group {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 15px;
    }
    .preview-btn {
      padding: 12px 20px;
      background: #32cd32;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      transition: all 0.3s;
      font-family: 'Inter', sans-serif;
    }
    .preview-btn:hover {
      background: #2ab82a;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(50, 205, 50, 0.3);
    }
    .preview-btn:active {
      transform: translateY(0);
    }
    .preview-btn.urdu {
      background: #ff6b6b;
      font-family: 'Noto Naskh Arabic', serif;
    }
    .preview-btn.urdu:hover {
      background: #ee5a52;
    }
    .lang-toggle-preview {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }
    .permission-status {
      padding: 15px;
      margin: 20px 0;
      border-radius: 6px;
      font-weight: 500;
    }
    .permission-granted {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    .permission-denied {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }
    .permission-default {
      background: #fff3cd;
      color: #856404;
      border: 1px solid #ffeaa7;
    }
    .back-link {
      display: inline-block;
      margin-bottom: 20px;
      color: #32cd32;
      text-decoration: none;
      font-weight: 600;
    }
    .back-link:hover {
      text-decoration: underline;
    }
    .info-box {
      padding: 15px;
      background: #e7f3ff;
      border-left: 4px solid #2196F3;
      margin: 20px 0;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div class="preview-container">
    <a href="/" class="back-link">â† Back to Home</a>
    
    <h1>ğŸ”” Notification Preview</h1>
    
    <div class="info-box">
      <strong>â„¹ï¸ Instructions:</strong>
      <p>Click the buttons below to test how each notification will appear on your device. Make sure to grant notification permission when prompted.</p>
    </div>
    
    <div id="permission-status"></div>
    
    <button id="request-permission" class="preview-btn" style="font-size: 16px; padding: 15px 30px;">
      ğŸ”” Enable Notifications
    </button>
    
    <div class="lang-toggle-preview">
      <button class="preview-btn" onclick="setPreviewLang('en')">English Preview</button>
      <button class="preview-btn urdu" onclick="setPreviewLang('urdu')">Ø§Ø±Ø¯Ùˆ Ù¾ÛŒØ´ Ù†Ø¸Ø§Ø±Û</button>
    </div>
    
    <div class="preview-section">
      <h2>ğŸ“– Quran & ğŸ¤² Durood Notifications</h2>
      <div class="btn-group">
        <button class="preview-btn" onclick="showQuranNotification('en')">ğŸ“– Quran (English)</button>
        <button class="preview-btn urdu" onclick="showQuranNotification('urdu')">ğŸ“– Ù‚Ø±Ø¢Ù† (Ø§Ø±Ø¯Ùˆ)</button>
        <button class="preview-btn" onclick="showDuroodNotification('en')">ğŸ¤² Durood (English)</button>
        <button class="preview-btn urdu" onclick="showDuroodNotification('urdu')">ğŸ¤² Ø¯Ø±ÙˆØ¯ (Ø§Ø±Ø¯Ùˆ)</button>
      </div>
    </div>
    
    <div class="preview-section">
      <h2>ğŸ•Œ Prayer Time Notifications</h2>
      <h3 style="color: #666; font-size: 16px;">English</h3>
      <div class="btn-group">
        <button class="preview-btn" onclick="showPrayerNotification('Fajr', 'en')">ğŸ•Œ Fajr</button>
        <button class="preview-btn" onclick="showPrayerNotification('Dhuhr', 'en')">ğŸ•Œ Dhuhr</button>
        <button class="preview-btn" onclick="showPrayerNotification('Asr', 'en')">ğŸ•Œ Asr</button>
        <button class="preview-btn" onclick="showPrayerNotification('Maghrib', 'en')">ğŸ•Œ Maghrib</button>
        <button class="preview-btn" onclick="showPrayerNotification('Isha', 'en')">ğŸ•Œ Isha</button>
      </div>
      
      <h3 style="color: #666; font-size: 16px; margin-top: 20px;">Ø§Ø±Ø¯Ùˆ</h3>
      <div class="btn-group">
        <button class="preview-btn urdu" onclick="showPrayerNotification('Fajr', 'urdu')">ğŸ•Œ ÙØ¬Ø±</button>
        <button class="preview-btn urdu" onclick="showPrayerNotification('Dhuhr', 'urdu')">ğŸ•Œ Ø¸ÛØ±</button>
        <button class="preview-btn urdu" onclick="showPrayerNotification('Asr', 'urdu')">ğŸ•Œ Ø¹ØµØ±</button>
        <button class="preview-btn urdu" onclick="showPrayerNotification('Maghrib', 'urdu')">ğŸ•Œ Ù…ØºØ±Ø¨</button>
        <button class="preview-btn urdu" onclick="showPrayerNotification('Isha', 'urdu')">ğŸ•Œ Ø¹Ø´Ø§Ø¡</button>
      </div>
    </div>
    
    <div class="preview-section">
      <h2>ğŸ¯ Test All Notifications</h2>
      <div class="btn-group">
        <button class="preview-btn" onclick="showAllNotifications('en')" style="font-size: 16px;">
          Show All (English)
        </button>
        <button class="preview-btn urdu" onclick="showAllNotifications('urdu')" style="font-size: 16px;">
          Ø³Ø¨ Ø¯Ú©Ú¾Ø§Ø¦ÛŒÚº (Ø§Ø±Ø¯Ùˆ)
        </button>
      </div>
    </div>
  </div>
  
  <script>
    // Check notification permission status
    function checkPermissionStatus() {
      const statusDiv = document.getElementById('permission-status');
      const requestBtn = document.getElementById('request-permission');
      
      if (!('Notification' in window)) {
        statusDiv.innerHTML = '<div class="permission-denied">âŒ Your browser does not support notifications</div>';
        requestBtn.style.display = 'none';
        return;
      }
      
      const permission = Notification.permission;
      
      if (permission === 'granted') {
        statusDiv.innerHTML = '<div class="permission-granted">âœ… Notifications enabled! Click any button below to test.</div>';
        requestBtn.style.display = 'none';
      } else if (permission === 'denied') {
        statusDiv.innerHTML = '<div class="permission-denied">âŒ Notifications blocked. Please enable them in your browser settings.</div>';
        requestBtn.style.display = 'none';
      } else {
        statusDiv.innerHTML = '<div class="permission-default">âš ï¸ Click the button below to enable notifications</div>';
        requestBtn.style.display = 'block';
      }
    }
    
    // Request notification permission
    document.getElementById('request-permission').addEventListener('click', async () => {
      const permission = await Notification.requestPermission();
      checkPermissionStatus();
    });
    
    // Show notification helper
    function showNotification(title, body, icon = '/assets/img/logo.png') {
      if (Notification.permission !== 'granted') {
        alert('Please enable notifications first!');
        return;
      }
      
      new Notification(title, {
        body: body,
        icon: icon,
        badge: icon,
        tag: 'preview-notification',
        requireInteraction: false
      });
    }
    
    // Quran notifications
    function showQuranNotification(lang) {
      if (lang === 'urdu') {
        showNotification('ğŸ“– Ø±ÙˆØ²Ø§Ù†Û Ù‚Ø±Ø¢Ù† Ú©ÛŒ ØªÙ„Ø§ÙˆØª', 'Ù‚Ø±Ø¢Ù† Ú©Ùˆ Ù¾Ú‘Ú¾Ù†Û’ Ø§ÙˆØ± ØºÙˆØ± Ùˆ ÙÚ©Ø± Ú©Ø±Ù†Û’ Ú©Ø§ ÙˆÙ‚Øª ÛÛ’');
      } else {
        showNotification('ğŸ“– Daily Quran Reading', 'âœ¨ Time to read and reflect on the Quran');
      }
    }
    
    // Durood notifications
    function showDuroodNotification(lang) {
      if (lang === 'urdu') {
        showNotification('ğŸ¤² Ø¯Ø±ÙˆØ¯ Ø´Ø±ÛŒÙ', 'Ø­Ø¶Ø±Øª Ù…Ø­Ù…Ø¯ ØµÙ„ÛŒ Ø§Ù„Ù„Û Ø¹Ù„ÛŒÛ ÙˆØ³Ù„Ù… Ù¾Ø± Ø¯Ø±ÙˆØ¯ Ø¨Ú¾ÛŒØ¬ÛŒÚº');
      } else {
        showNotification('ğŸ¤² Durood on Prophet Muhammad', 'âœ¨ Send blessings upon the Prophet Muhammad (Peace Be Upon Him)');
      }
    }
    
    // Prayer notifications
    function showPrayerNotification(prayer, lang) {
      const prayerNames = {
        en: {
          Fajr: 'Fajr',
          Dhuhr: 'Dhuhr',
          Asr: 'Asr',
          Maghrib: 'Maghrib',
          Isha: 'Isha'
        },
        urdu: {
          Fajr: 'ÙØ¬Ø±',
          Dhuhr: 'Ø¸ÛØ±',
          Asr: 'Ø¹ØµØ±',
          Maghrib: 'Ù…ØºØ±Ø¨',
          Isha: 'Ø¹Ø´Ø§Ø¡'
        }
      };
      
      if (lang === 'urdu') {
        showNotification(
          `ğŸ•Œ ${prayerNames.urdu[prayer]} Ú©Ø§ ÙˆÙ‚Øª`,
          `${prayerNames.urdu[prayer]} Ú©ÛŒ Ù†Ù…Ø§Ø² Ú©Ø§ ÙˆÙ‚Øª ÛÙˆ Ú¯ÛŒØ§ ÛÛ’`
        );
      } else {
        showNotification(
          `ğŸ•Œ ${prayerNames.en[prayer]} Prayer Time`,
          `It's time for ${prayerNames.en[prayer]} prayer`
        );
      }
    }
    
    // Show all notifications with delay
    async function showAllNotifications(lang) {
      if (Notification.permission !== 'granted') {
        alert('Please enable notifications first!');
        return;
      }
      
      const prayers = ['Fajr', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];
      
      showQuranNotification(lang);
      await delay(1500);
      
      showDuroodNotification(lang);
      await delay(1500);
      
      for (const prayer of prayers) {
        showPrayerNotification(prayer, lang);
        await delay(1500);
      }
    }
    
    function delay(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }
    
    function setPreviewLang(lang) {
      localStorage.setItem('lang', lang);
      alert(lang === 'urdu' ? 'Ø²Ø¨Ø§Ù† Ø§Ø±Ø¯Ùˆ Ù…ÛŒÚº ØªØ¨Ø¯ÛŒÙ„ ÛÙˆ Ú¯Ø¦ÛŒ' : 'Language set to English');
    }
    
    // Initialize
    checkPermissionStatus();
  </script>
</body>
</html>
